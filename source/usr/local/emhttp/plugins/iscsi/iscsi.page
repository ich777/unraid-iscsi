Menu="Utilities"
Title="iSCSI Target"
Icon="iscsi.png"
---
<h1 style="text-align: center;"><span style="color: #800000;">iSCSI Target</span></a></h1>
<p style="text-align: center;">This Plugin is currently command line only.</p>

<?
$iSCSIModule = `modinfo configfs | grep -w "name:" | cut -d ':' -f2 | tr -d ' '`;
if (isset($iSCSIModule ) === true && trim($iSCSIModule ) !== ''):
?>
<div style="width: 50%; float:left">
    <div id="title">
        <span class="left"></span>
    </div>
    <table class="settings">
        <tr>
            <td><b><font size="+1">iSCSI Target Info:</font></b></td>
        </tr>
        <tr>
        <td>TargetCLI Version:</td>
            <td style="color:green"><b><?=`targetcli version 2>&1 | cut -d ' ' -f3`?></b></td>
        </tr>
    </table>
</div>
<? else: ?>
<div style="width: 50%; float:left">
    <div id="title">
        <span class="left"></span>
    </div>
    <h1 style="text-align: center;"><span>iSCSI Target not found!</span></a></h1>
</div>
<? endif; ?>

<div style="width: 50%; float:left">
    <div id="title">
        <span class="right"></span>
    </div>
    <table class="settings">
        <tr>
            <td><b><font size="+1">System Info</font></b></td>
        </tr>
        <tr>
            <td>Unraid Version:</td>
            <td style="color: #99cc00;"><b><?=`cat /etc/unraid-version | cut -d '"' -f2`?></b></td>
        </tr>
        <tr>
            <td>Kernel:</td>
            <td style="color: #99cc00;"><b><?=`uname -r`?></b></td>
        </tr>
        <tr>
            <td>Compile Date:</td>
            <td style="color: #99cc00;"><b><?=`uname -v | cut -d ' ' -f3-`?></b></td>
        </tr>
    </table>
</div>
